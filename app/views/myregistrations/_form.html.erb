<%= form_for @user, url: path, title: title, remote: true, html: {mulitpart: true, class: 'well', role: 'form'} do |f| %>  
  <div id="form-errors"></div>

  <%if current_user.role == 'admin' && path.include?('/users')%>
    <%= label_tag(:q, 'Add Employee') %>
  <%elsif current_user.role == 'admin' && path.include?('edit')%>
    <%= label_tag(:q, 'Edit Employee') %>
  <%else%>
    <%= label_tag(:q, title) %>
  <%end%>

  <div class="form-group">
    <div class="row">
      <div class = "col-sm-1">
        <h6> Name: </h6>
      </div>
      <div class="col-sm-6">
        <%= f.text_field :first_name, placeholder: 'Enter first name', class: 'form-control' %>
      </div>
      <div class="col-sm-5">
        <%= f.text_field :surname, placeholder: 'Enter surname', class: 'form-control' %>
      </div>
    </div>
    <br/>
    <div class = 'row'>
      <div class = "col-sm-1">
        <h6> Address: </h6>
      </div>
      <div class="col-sm-4">
        <%= f.text_field :postal_address, placeholder: 'Enter mailing address', class: 'form-control' %>
      </div>
      <div class="col-sm-3">
        <%= f.text_field :city, placeholder: 'Enter city', class: 'form-control' %>
      </div>
      <div class="col-sm-2">
        <%= f.select :state, [ 'AK', 'AL', 'AR', 'AZ', 'CA', 'CO', 'CT', 'DE', 'FL', 'GA', 'HI', 'IA', 'ID', 'IL', 'IN', 'KS', 'KY', 'LA', 'MA', 'MD', 'ME', 'MI', 'MN', 'MO', 'MS', 'MT', 'NC', 'NE', 'NH', 'NJ', 'NM', 'NV', 'NY','OH', 'OK', 'OR', 'PA', 'RI', 'SC', 'SD', 'TN', 'TX',  'UT', 'VA', 'VT', 'WA', 'WI', 'WV', 'WY'] %>      
      </div>
      <div class="col-sm-2">
        <%= f.number_field :zip_code, placeholder: 'Enter zipcode', class: 'form-control' %>
      </div>
    </div>
    <div class = 'row'>
      <div class="col-sm-4">
        <%if current_user.role == 'admin'%>
          <div class = "col-sm-1">
            <h6> Role: </h6>
          </div>
          <%= f.select :role, ['employee', 'admin'] %>
        <%elsif title == 'Add Child' %>
          <%= f.hidden_field :role, value: 'student' %>
        <%else%>
          <%= f.hidden_field :role, value: 'parent' %>
        <%end%>
      </div>
      <div class="col-sm-4">
        <%= f.label 'DOB:' %>
        <%= f.date_field :date_of_birth %>
      </div>
      <% if current_user.role == 'admin'%>
        <div class = "col-sm-3">
          <%= f.label 'Status:' %>
          <%= f.select :status, User.statuses.keys.to_a %>
        </div>
      <%end%>
    </div>
    <div class = 'row'>
      <div class = "col-sm-1">
        <h6> Contacts: </h6>
      </div>
      <div class="col-sm-4">
        <%= f.text_field :contact_email, placeholder: 'Enter contact email', class: 'form-control' %>
      </div>
      <div class="col-sm-4">
        <%= f.text_field :contact_phone, placeholder: 'Enter contact phone number', class: 'form-control' %>
      </div>
      <div class="col-sm-3">
        <%= f.text_field :contact_mobile, placeholder: 'Enter contact mobile number', class: 'form-control' %>
      </div>
    </div>
    <div class = "row">
      <div class="col-sm-4">
        <%= f.label 'School Grade:' %>
        <%= f.number_field :school_grade, placeholder: 'Enter school grade', class: 'form-control' %>
      </div>
    </div>
    <% if title == 'Add Child' %>
      <div class = "row">
        <div class="col-sm-12">
          <%= f.label 'Additional Information:' %>
          <%= f.text_field :additional_info, placeholder: 'Enter additional information about student', class: 'form-control' %>
        </div>
      </div>
    <%end%>
    <%if path == '/users' %>
      <div class = 'row'>
        <div class = "col-sm-1">
          <h6> User details: </h6>
        </div>
        <div class="col-sm-6">
          <%= f.email_field :email, placeholder: 'Enter email', class: 'form-control' %>
        </div>
        <div class="col-sm-5">
          <%= f.password_field :password, placeholder: 'Enter password', class: 'form-control' %>
        </div>
      </div>
    <%end%>
  </div>
  <div class="form-group row submit">
    <%= button_tag type: "submit", class: "btn btn-primary", name: "commit", value: "Save" do %>
      <a>Save</a>
    <% end %>
    <a class="btn btn-danger hvr-trim" id='add-user-cancel-button' data-behaviour="form-dismiss">Cancel</a>
  </div>
<% end %>